<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Devis — R3D PRINT CI</title>
  <meta name="description" content="Demandez un devis rapide : nature de l'objet, dimensions, matière, quantité. Envoi direct via WhatsApp ou e-mail." />
  <meta name="theme-color" content="#111111" />
  <style>
    :root{
      --bg:#f6f6f6; --ink:#1b1b1b; --muted:#616161; --panel:#ffffff; --line:#e7e7e7;
      --gold:#bca66a; --gold-2:#e7dcc0;
      --radius:16px; --container:860px; --shadow:0 10px 35px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;max-width:100%;overflow-x:hidden}
    img{display:block;max-width:100%;height:auto}
    a{text-decoration:none;color:inherit}
    .container{max-width:var(--container);margin:auto;padding:28px}
    .section{padding-block:36px}
    .h1{font-size:clamp(28px,5.2vw,44px);line-height:1.12;margin:0}
    .lead{color:var(--muted);max-width:820px}

    header{position:sticky;top:0;z-index:50;border-bottom:1px solid var(--line);background:rgba(246,246,246,.85);backdrop-filter: blur(8px)}
    .bar{max-width:1160px;margin:auto;padding:12px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;gap:12px;align-items:center;min-width:0}
    .brand img{width:68px;height:68px;object-fit:contain}
    .brand span{font-weight:900;letter-spacing:.4px;white-space:nowrap}
    .nav{display:flex;gap:10px;align-items:center;flex-wrap:nowrap}
    .btn{
      --bg:#fff; --fg:#111; --bd:#d9d9d9;
      display:inline-flex;gap:10px;align-items:center;justify-content:center;
      padding:10px 16px;border-radius:999px;border:1px solid var(--bd);
      background:var(--bg);color:var(--fg);font-weight:700;cursor:pointer;
      box-shadow:0 2px 0 rgba(0,0,0,.04); transition:transform .15s ease, box-shadow .2s ease, opacity .2s ease; white-space:nowrap
    }
    .btn:hover{transform:translateY(-1px);box-shadow:0 10px 24px rgba(0,0,0,.08)}
    .btn.gold{--bg:linear-gradient(180deg,#c7b37e,#a88e58);--fg:#fff;--bd:#9b8450}
    .btn.ghost{background:#fff;border-color:var(--line)}
    .btn.icon svg{width:18px;height:18px}
    .hamb{display:none}
    .drawer{display:none;position:fixed;inset:0;background:rgba(0,0,0,.35);z-index:60}
    .panel{position:absolute;right:0;top:0;height:100%;width:min(86%,360px);background:#fff;border-left:1px solid var(--line);padding:18px;display:flex;flex-direction:column;gap:10px}
    @media (max-width:920px){
      .nav .navlink{display:none}
      .hamb{display:inline-flex}
      .brand img{width:58px;height:58px}
    }

    .quote{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px;box-shadow:var(--shadow);margin-top:16px}
    .row{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    label{font-weight:700;font-size:14px}
    input, select, textarea{width:100%;border-radius:12px;border:1px solid var(--line);background:#fff;color:#111;padding:10px 12px}
    input[type=number]{appearance:textfield}
    input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{appearance:none;margin:0}
    textarea{min-height:110px;resize:vertical}
    .hint{font-size:12px;color:var(--muted)}
    .quote-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}

    footer{border-top:1px solid var(--line);padding:22px 18px;color:var(--muted);margin-top:24px}
    .foot{max-width:1160px;margin:auto;display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .minibrand{display:flex;gap:10px;align-items:center}
    .minibrand img{width:42px;height:42px;object-fit:contain}
    #toTop{position:fixed;right:16px;bottom:16px;display:none}
  </style>
</head>
<body>
  <header>
    <div class="bar">
      <div class="brand">
        <img src="assets/logo.png" onerror="this.onerror=null;this.src='assets/logo.jpg';" alt="R3D PRINT CI">
        <span>R3D PRINT CI</span>
      </div>
      <nav class="nav">
        <a class="btn navlink" href="index.html">Accueil</a>
        <a class="btn navlink" href="services.html">Services</a>
        <a class="btn navlink" href="realisations.html">Réalisations</a>
        <a class="btn navlink icon" id="ctaWa" href="#" title="WhatsApp">
          <svg viewBox="0 0 24 24" fill="none"><path d="M20 3.5A10 10 0 1 0 4.7 20.2L3 21l.9-1.6A10 10 0 1 0 20 3.5Z" stroke="#000" stroke-opacity=".18"/><path d="M17.2 14.9c-.2-.2-1.3-.7-1.6-.8-.3-.1-.5-.1-.7.2l-.5.6c-.1.1-.2.2-.4.2-.7-.1-2.2-.8-3.1-1.8-.7-.8-1.2-1.8-1.3-2.6 0-.1 0-.3.2-.4l.6-.6c.1-.1.1-.3.1-.5s-.4-1.2-.6-1.7c-.2-.5-.4-.5-.6-.5h-.5c-.2 0-.5.1-.7.3-.7.7-1.1 1.6-1 2.6.1 1 .7 2.1 1.6 3.1 1 .9 2.6 2 4.2 2.4.4.1.8.1 1.2 0 .4-.1 1.3-.5 1.5-.9.2-.4.2-.6.1-.6Z" fill="#1f2937"/></svg>
          WhatsApp
        </a>
        <button class="btn hamb" id="openMenu">☰</button>
      </nav>
    </div>
  </header>

  <div class="drawer" id="drawer">
    <div class="panel">
      <button class="btn" id="closeMenu">Fermer ✕</button>
      <a class="btn" href="index.html">Accueil</a>
      <a class="btn" href="services.html">Services</a>
      <a class="btn" href="realisations.html">Réalisations</a>
      <a class="btn" id="mWa" href="#">WhatsApp</a>
    </div>
  </div>

  <main class="container section">
    <h1 class="h1">Devis rapide</h1>
    <p class="lead">Décrivez votre besoin en quelques champs. Vous pouvez envoyer la demande directement par WhatsApp (recommandé) ou par e-mail.</p>

    <div class="quote">
      <form id="quoteForm">
        <div class="row">
          <div>
            <label for="qNature">Nature de l’objet</label>
            <input id="qNature" type="text" placeholder="Trophée, plaque, pièce fonctionnelle…" required>
          </div>
          <div>
            <label>Dimensions</label>
            <div class="row" style="grid-template-columns:repeat(4,1fr)">
              <input id="dimL" type="number" inputmode="decimal" min="0" step="0.1" placeholder="L" required>
              <input id="dimW" type="number" inputmode="decimal" min="0" step="0.1" placeholder="l">
              <input id="dimH" type="number" inputmode="decimal" min="0" step="0.1" placeholder="h">
              <select id="dimUnit"><option value="mm">mm</option><option value="cm">cm</option></select>
            </div>
            <div class="hint">Conversion automatique en millimètres.</div>
          </div>
          <div>
            <label for="qStorage">Environnement</label>
            <select id="qStorage"><option value="">Sélectionner…</option><option>Intérieur</option><option>Extérieur</option><option>Mixte</option></select>
          </div>
        </div>

        <div class="row">
          <div><label for="qMaterial">Matière / Technologie</label>
            <select id="qMaterial">
              <option value="">À conseiller</option>
              <option>FDM — PLA</option><option>FDM — PETG</option><option>FDM — ASA</option>
              <option>Laser — Bois</option><option>Laser — Acrylique</option><option>Laser — Métal (anodisé/inox)</option>
            </select>
          </div>
          <div><label for="qColors">Couleurs</label><input id="qColors" type="text" placeholder="Ex : Noir / Or / Argent"></div>
          <div><label for="qQty">Quantité</label><input id="qQty" type="number" inputmode="numeric" min="1" step="1" placeholder="1"></div>
        </div>

        <div class="row">
          <div><label for="qDeadline">Délai souhaité</label><input id="qDeadline" type="text" placeholder="Ex : 3 jours / date précise"></div>
          <div><label for="qBudget">Budget indicatif (CFA)</label><input id="qBudget" type="number" inputmode="numeric" min="0" step="1000" placeholder="Ex : 30000"></div>
          <div><label for="qLink">Lien fichier (Drive/WeTransfer)</label><input id="qLink" type="url" placeholder="URL de votre fichier ou croquis"></div>
        </div>

        <div><label for="qNotes">Notes / précisions</label><textarea id="qNotes" placeholder="Contexte d’usage, finitions, contraintes, inspiration…"></textarea></div>

        <div class="row">
          <div><label for="qName">Nom / Société</label><input id="qName" type="text" placeholder="Ex : Monsieur K., Société X"></div>
          <div><label for="qPhone">Téléphone / WhatsApp</label><input id="qPhone" type="tel" inputmode="tel" placeholder="+225 07 00 00 00 00"></div>
          <div><label for="qEmail">E-mail</label><input id="qEmail" type="email" placeholder="exemple@domaine.com"></div>
        </div>

        <div class="quote-actions">
          <button type="button" class="btn gold" id="send">Envoyer sur WhatsApp</button>
          <a class="btn" id="sendMail" href="#">Ou envoyer par e-mail</a>
        </div>
      </form>
    </div>
  </main>

  <footer>
    <div class="foot">
      <div class="minibrand">
        <img src="assets/logo.png" onerror="this.onerror=null;this.src='assets/logo.jpg';" alt="R3D PRINT CI">
        <span>© <span id="year"></span> R3D PRINT CI — Abidjan</span>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <a class="btn" id="fWa" href="#">WhatsApp</a>
        <a class="btn" href="index.html">Accueil</a>
        <a class="btn" href="services.html">Services</a>
        <a class="btn" href="realisations.html">Réalisations</a>
        <button class="btn" id="toTop" title="Haut de page">↑</button>
      </div>
    </div>
  </footer>

  <script>
    const $=(s,c=document)=>c.querySelector(s), $$=(s,c=document)=>Array.from(c.querySelectorAll(s));

    // WhatsApp
    const phone="002250757841323".replace(/^00/,"");
    const defaultMsg=encodeURIComponent("Bonjour R3D PRINT CI, j’aimerais un devis.");
    const wa="https://wa.me/"+phone+"?text="+defaultMsg;
    ["ctaWa","fWa","mWa"].forEach(id=>{ const a=$("#"+id); if(a) a.href=wa; });

    // Drawer
    const drawer=$("#drawer"), openMenu=$("#openMenu"), closeMenu=$("#closeMenu");
    openMenu?.addEventListener("click",()=>drawer.style.display="block");
    closeMenu?.addEventListener("click",()=>drawer.style.display="none");
    drawer?.addEventListener("click",(e)=>{ if(e.target===drawer) drawer.style.display="none"; });

    // Utils
    const toTop=$("#toTop"); window.addEventListener("scroll",()=>{ toTop.style.display= window.scrollY>400?"inline-flex":"none"; });
    toTop?.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));
    $("#year").textContent = new Date().getFullYear();

    // Devis helpers
    function sanitize(s){ return (s||"").toString().trim(); }
    function dimsToMM(){
      const L=parseFloat($("#dimL").value)||0;
      const W=parseFloat($("#dimW").value)||0;
      const H=parseFloat($("#dimH").value)||0;
      const unit=$("#dimUnit").value;
      const k=(unit==="cm")?10:1; return {L:L*k,W:W*k,H:H*k,unit:"mm"};
    }
    function buildQuoteLines(){
      const name=sanitize($("#qName").value);
      const phoneC=sanitize($("#qPhone").value);
      const email=sanitize($("#qEmail").value);
      const nature=sanitize($("#qNature").value);
      const env=sanitize($("#qStorage").value);
      const colors=sanitize($("#qColors").value);
      const material=sanitize($("#qMaterial").value);
      const qty=sanitize($("#qQty").value);
      const deadline=sanitize($("#qDeadline").value);
      const budget=sanitize($("#qBudget").value);
      const link=sanitize($("#qLink").value);
      const notes=sanitize($("#qNotes").value);
      const d=dimsToMM(); const dims=(d.L||d.W||d.H)?`${Math.round(d.L)} × ${Math.round(d.W)} × ${Math.round(d.H)} ${d.unit}`:"";
      return [
        "Bonjour R3D PRINT CI, je souhaite un devis :","",
        name? "• Nom / Société : "+name :"",
        phoneC? "• Téléphone : "+phoneC :"",
        email? "• E-mail : "+email :"",
        nature? "• Nature de l'objet : "+nature :"",
        dims? "• Dimensions : "+dims :"",
        env? "• Environnement : "+env :"",
        colors? "• Couleurs : "+colors :"",
        material? "• Matière / Techno : "+material :"",
        qty? "• Quantité : "+qty :"",
        deadline? "• Délai souhaité : "+deadline :"",
        budget? "• Budget indicatif : "+budget+" CFA" :"",
        link? "• Lien fichier : "+link :"",
        notes? "• Notes : "+notes :""
      ].filter(Boolean);
    }

    $("#send")?.addEventListener("click", ()=>{
      if(!$("#qNature").value.trim()){ alert("Indique au minimum la nature de l’objet."); return; }
      const lines=encodeURIComponent(buildQuoteLines().join("\n"));
      const waNumber="002250757841323".replace(/^00/,"");
      const url="https://wa.me/"+waNumber+"?text="+lines;
      window.open(url,"_blank");
    });

    // Email direct
    $("#sendMail")?.addEventListener("click",(e)=>{
      e.preventDefault();
      const subject=encodeURIComponent("Demande de devis — r3dprint.pro");
      const body=encodeURIComponent(buildQuoteLines().join("\n"));
      window.location.href = "mailto:r3dprint.ci@gmail.com?subject="+subject+"&body="+body;
    });
  </script>
</body>
</html>
