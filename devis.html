<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Devis — R3D PRINT CI</title>
<meta name="description" content="Demandez un devis professionnel pour vos projets d’impression 3D, gravure laser ou prototypage avec R3D PRINT CI à Abidjan."/>
<style>
:root{
  --bg:#f7f7f7;--ink:#1a1a1a;--muted:#6b6b6b;
  --panel:#fff;--line:#e4e4e4;
  --gold:#bca66a;--radius:16px;--container:1180px;
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto;overflow-x:hidden}
a{text-decoration:none;color:inherit}
.container{max-width:var(--container);margin:auto;padding:28px}
.section{padding-block:64px}
.h1{font-size:clamp(32px,5.2vw,54px);margin:0 0 8px}
.lead{color:var(--muted);max-width:820px;margin-bottom:28px}
header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
.bar{max-width:var(--container);margin:auto;padding:14px 20px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}
.brand{display:flex;align-items:center;gap:14px}
.brand img{width:92px;height:92px;object-fit:contain;transition:.2s}
.brand:hover img{transform:scale(1.05)}
.nav{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;align-items:center;margin-top:10px}
.btn{display:inline-flex;align-items:center;gap:6px;background:#fff;border:1px solid var(--line);border-radius:999px;padding:10px 18px;font-weight:700;cursor:pointer;transition:.25s}
.btn:hover{background:var(--gold);color:#fff;border-color:var(--gold)}
.btn.gold{background:var(--gold);color:#fff}
form{background:var(--panel);padding:32px;border-radius:var(--radius);box-shadow:0 4px 18px rgba(0,0,0,.06);display:flex;flex-direction:column;gap:16px}
label{font-weight:600;margin-bottom:6px;display:block}
input,select,textarea{width:100%;padding:12px 14px;border:1px solid var(--line);border-radius:8px;font-size:15px;font-family:inherit}
input:focus,textarea:focus,select:focus{outline:none;border-color:var(--gold);box-shadow:0 0 0 3px rgba(188,166,106,.2)}
textarea{min-height:110px;resize:vertical}
.color-palette{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px}
.color-swatch{
  width:34px;height:34px;border-radius:50%;border:2px solid transparent;cursor:pointer;
  transition:transform .2s ease,border-color .2s ease;
}
.color-swatch:hover{transform:scale(1.1)}
.color-swatch.active{border-color:var(--gold);transform:scale(1.15)}
.color-preview{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.badge{
  display:inline-flex;align-items:center;gap:4px;
  background:#eee;border-radius:999px;padding:4px 10px;font-size:13px;
}
.badge span{cursor:pointer;font-weight:700;color:#b00}
input[type="color"]{border:none;width:60px;height:34px;border-radius:8px;cursor:pointer;padding:0}
input[type="file"]{padding:6px;border:none;background:#fafafa;border:1px dashed var(--line);cursor:pointer}
input[type="file"]:hover{border-color:var(--gold)}
#preview{max-width:160px;border-radius:12px;margin-top:10px;display:none;box-shadow:0 4px 12px rgba(0,0,0,.08)}
button[type="submit"]{background:var(--gold);color:#fff;border:none;padding:14px;font-size:16px;border-radius:8px;font-weight:700;cursor:pointer;transition:background .3s ease}
button[type="submit"]:hover{background:#a88e58}
footer{border-top:1px solid var(--line);padding:22px 18px;color:var(--muted);text-align:center}
#homeButton{
  position:fixed;bottom:20px;right:20px;
  background:linear-gradient(180deg,#c7b37e,#a88e58);
  border-radius:50%;width:56px;height:56px;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 4px 12px rgba(0,0,0,.25);
  z-index:9999;transition:transform .2s ease, box-shadow .2s ease;
}
#homeButton:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,0,0,.3)}
@media(max-width:800px){.brand img{width:76px;height:76px}}
</style>
</head>
<body>
<header>
  <div class="bar">
    <a href="index.html" class="brand">
      <img src="assets/logo.png" onerror="this.src='assets/logo.jpg'" alt="R3D PRINT CI"/>
      <span><strong>R3D PRINT CI</strong></span>
    </a>
    <nav class="nav">
      <a class="btn" href="index.html">Accueil</a>
      <a class="btn" href="services.html">Services</a>
      <a class="btn" href="realisations.html">Réalisations</a>
      <a class="btn gold" href="devis.html">Devis</a>
    </nav>
  </div>
</header>

<section class="section">
  <div class="container">
    <h1 class="h1">Demande de devis</h1>
    <p class="lead">Remplissez le formulaire ci-dessous pour obtenir un devis précis. Vous pouvez joindre des images et choisir vos couleurs selon le rendu souhaité.</p>

    <form id="devisForm">
      <div>
        <label>Nom / Société</label>
        <input type="text" id="name" placeholder="Ex : Koffi Design" required>
      </div>
      <div>
        <label>Type de projet</label>
        <select id="type" required>
          <option value="">Sélectionner...</option>
          <option>Impression 3D</option>
          <option>Gravure laser</option>
          <option>Prototypage & design</option>
        </select>
      </div>
      <div>
        <label>Dimensions approximatives (cm)</label>
        <input type="text" id="dimensions" placeholder="Ex : 20 x 10 x 5">
      </div>
      <div>
        <label>Lieu d’utilisation</label>
        <select id="usage">
          <option value="">Sélectionner...</option>
          <option>Intérieur</option>
          <option>Extérieur</option>
        </select>
      </div>

      <div>
        <label>Aspect du matériau</label>
        <select id="material">
          <option value="">Sélectionner...</option>
          <option value="bois">Bois</option>
          <option value="métal">Métal</option>
          <option value="plastique">Plastique / PLA</option>
          <option value="pierre">Pierre / Marbre</option>
          <option value="verre">Verre / Transparent</option>
          <option value="autre">Autre</option>
        </select>
      </div>

      <div>
        <label>🎨 Couleur(s) souhaitée(s)</label>
        <div class="color-palette" id="palette"></div>
        <div style="margin-top:10px;">
          <input type="color" id="colorWheel" title="Choisir une couleur personnalisée">
          <button type="button" id="addColor" class="btn" style="margin-left:8px;">+ Ajouter</button>
        </div>
        <div class="color-preview" id="colorPreview"></div>
      </div>

      <div>
        <label>Détails techniques ou instructions</label>
        <textarea id="details" placeholder="Décrivez vos besoins ou ajoutez des précisions..."></textarea>
      </div>

      <div>
        <label>📸 Ajouter une photo ou un croquis (facultatif)</label>
        <input type="file" id="photo" accept="image/*" capture="environment">
        <img id="preview" alt="Aperçu"/>
      </div>

      <button type="submit">📩 Envoyer sur WhatsApp</button>
    </form>
  </div>
</section>

<footer>© <span id="year"></span> R3D PRINT CI — Abidjan</footer>

<!-- Bouton Accueil flottant -->
<a href="index.html" id="homeButton" title="Retour à l'accueil">
  <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9L12 2l9 7v11a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5H9v5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9z"/></svg>
</a>

<script>
document.getElementById("year").textContent=new Date().getFullYear();

// Palettes par matériau
const palettes = {
  bois: ["#8B4513","#A0522D","#D2B48C","#deb887","#5c4033"],
  métal: ["#C0C0C0","#D4AF37","#b87333","#000000","#808080"],
  plastique: ["#e63946","#1d3557","#2a9d8f","#f4a261","#e9c46a","#000000","#ffffff"],
  pierre: ["#d3d3d3","#a9a9a9","#f5f5f5","#bcbcbc","#8b8b83"],
  verre: ["#a8dadc","#f1faee","#457b9d","#cde8f7"],
  autre: ["#ffffff","#000000","#bca66a"]
};

const paletteDiv=document.getElementById("palette");
const materialSelect=document.getElementById("material");
const colorPreview=document.getElementById("colorPreview");
let selectedColors=[];

function renderPalette(material){
  paletteDiv.innerHTML="";
  if(!palettes[material]) return;
  palettes[material].forEach(c=>{
    const sw=document.createElement("div");
    sw.className="color-swatch";
    sw.style.background=c;
    sw.dataset.color=c;
    sw.onclick=()=>toggleColor(c,sw);
    paletteDiv.appendChild(sw);
  });
}

function toggleColor(color,element){
  const idx=selectedColors.indexOf(color);
  if(idx>-1){
    selectedColors.splice(idx,1);
    element.classList.remove("active");
  }else{
    selectedColors.push(color);
    element.classList.add("active");
  }
  updatePreview();
}

function updatePreview(){
  colorPreview.innerHTML="";
  selectedColors.forEach(c=>{
    const b=document.createElement("div");
    b.className="badge";
    b.style.background=c;
    b.innerHTML=`<span title="Supprimer">×</span>`;
    b.querySelector("span").onclick=()=>{
      selectedColors=selectedColors.filter(x=>x!==c);
      renderPalette(materialSelect.value);
      updatePreview();
    };
    colorPreview.appendChild(b);
  });
}

materialSelect.addEventListener("change",()=>renderPalette(materialSelect.value));

// Ajout manuel via roue chromatique
document.getElementById("addColor").addEventListener("click",()=>{
  const c=document.getElementById("colorWheel").value;
  if(!selectedColors.includes(c)){
    selectedColors.push(c);
    updatePreview();
  }
});

// Prévisualisation image
const photoInput=document.getElementById("photo");
const preview=document.getElementById("preview");
photoInput.addEventListener("change",()=>{
  const file=photoInput.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=e=>{
      preview.src=e.target.result;
      preview.style.display="block";
    };
    reader.readAsDataURL(file);
  }
});

// Envoi WhatsApp
document.getElementById("devisForm").addEventListener("submit",e=>{
  e.preventDefault();
  const name=document.getElementById("name").value.trim();
  const type=document.getElementById("type").value.trim();
  const dim=document.getElementById("dimensions").value.trim();
  const usage=document.getElementById("usage").value.trim();
  const material=document.getElementById("material").value.trim();
  const details=document.getElementById("details").value.trim();
  const msg=encodeURIComponent(
`Demande de devis :
👤 Nom / Société : ${name}
🧩 Type : ${type}
📐 Dimensions : ${dim}
🏠 Lieu : ${usage}
🪵 Matériau : ${material}
🎨 Couleur(s) : ${selectedColors.join(", ")}
📝 Détails : ${details}`
  );
  const wa="https://wa.me/2250757841323?text="+msg;
  window.open(wa,"_blank");
});
</script>
</body>
</html>
