<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Demander un devis ‚Äî R3D PRINT CI</title>
<link rel="icon" href="assets/logo.png" type="image/png">
<link rel="stylesheet" href="assets/style.css?v=1.1">
</head>

<body>

<header>
  <div class="bar">
    <a href="index.html" class="brand"><img src="assets/logo.png" alt="R3D PRINT CI"></a>
    <div class="hamburger" onclick="toggleMenu()"><span></span><span></span><span></span></div>
    <nav class="nav" id="navMenu">
      <a href="index.html" class="btn">Accueil</a>
      <a href="services.html" class="btn">Services</a>
      <a href="realisations.html" class="btn">R√©alisations</a>
      <a href="devis.html" class="btn gold">Devis</a>
      <a href="contact.html" class="btn">Contact</a>
    </nav>
  </div>
</header>

<!-- HERO -->
<section class="hero reveal">
  <h1>Demander un devis</h1>
  <p>Remplissez le formulaire ci-dessous pour recevoir une estimation personnalis√©e.</p>
</section>

<!-- FORMULAIRE -->
<section class="section reveal">
  <form id="devisForm">
    <label>Nom complet</label>
    <input type="text" id="nom" required>

    <label>Email</label>
    <input type="email" id="email" required>

    <label>T√©l√©phone / WhatsApp</label>
    <input type="tel" id="tel" required>

    <label>Nature de l‚Äôobjet</label>
    <input type="text" id="objet" placeholder="Ex : Troph√©e, pi√®ce m√©canique, maquette..." required>

    <label>Dimensions (en cm)</label>
    <input type="text" id="dimensions" placeholder="Ex : 20 x 10 x 5" required>

    <label>Endroit d‚Äôutilisation</label>
    <select id="endroit">
      <option value="Int√©rieur">Int√©rieur</option>
      <option value="Ext√©rieur">Ext√©rieur</option>
    </select>

    <label>Mat√©riau souhait√©</label>
    <select id="materiau">
      <option value="PLA">PLA</option>
      <option value="PETG">PETG</option>
      <option value="R√©sine">R√©sine</option>
      <option value="M√©tal">M√©tal</option>
      <option value="Bois">Bois</option>
    </select>

    <label>Couleurs souhait√©es</label>
    <div class="color-container" id="colors"></div>

    <label>Photo / Exemple de r√©f√©rence</label>
    <input type="file" id="photo" accept="image/*" onchange="previewImage(event)">
    <div id="preview"><img id="previewImg"></div>

    <label>Commentaires / pr√©cisions suppl√©mentaires</label>
    <textarea id="commentaires" placeholder="Ajoutez vos remarques ici..."></textarea>

    <div style="margin-top:30px; display:flex; gap:15px; flex-wrap:wrap;">
      <button type="button" onclick="envoyerWhatsApp()">üì± Envoyer via WhatsApp</button>
      <button type="button" onclick="envoyerEmail()">‚úâÔ∏è Envoyer par E-mail</button>
    </div>
  </form>
</section>

<footer>¬© <span id="year"></span> R3D PRINT CI ‚Äî Tous droits r√©serv√©s</footer>

<script src="assets/main.js?v=1.1"></script>
<script>
// G√©n√©ration des couleurs
const colors = ["#ffffff","#000000","#ff0000","#00ff00","#0000ff","#ffff00","#ff9900","#ff00ff","#999999","#8b4513","#c9b47d","#d4af37"];
const container = document.getElementById("colors");
colors.forEach(c=>{
  let box=document.createElement("div");
  box.classList.add("color-box");
  box.style.background=c;
  box.onclick=()=>box.classList.toggle("selected");
  container.appendChild(box);
});

// Pr√©visualisation image
function previewImage(e){
  const file=e.target.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=function(){
      const img=document.getElementById("previewImg");
      img.src=reader.result;
      document.getElementById("preview").style.display="block";
    };
    reader.readAsDataURL(file);
  }
}

// Envoi WhatsApp
function envoyerWhatsApp(){
  const nom=document.getElementById("nom").value;
  const email=document.getElementById("email").value;
  const tel=document.getElementById("tel").value;
  const objet=document.getElementById("objet").value;
  const dimensions=document.getElementById("dimensions").value;
  const endroit=document.getElementById("endroit").value;
  const materiau=document.getElementById("materiau").value;
  const commentaires=document.getElementById("commentaires").value;
  const couleurs=[...document.querySelectorAll(".color-box.selected")].map(c=>c.style.background).join(", ");
  if(!nom||!tel||!objet){alert("Veuillez remplir tous les champs obligatoires.");return;}
  const message=`*Nouveau devis R3D PRINT CI*\n\nüë§ Nom : ${nom}\nüìß Email : ${email}\nüì± T√©l√©phone : ${tel}\nüß© Objet : ${objet}\nüìê Dimensions : ${dimensions}\nüè† Endroit : ${endroit}\nüß± Mat√©riau : ${materiau}\nüé® Couleurs : ${couleurs}\nüí¨ Commentaires : ${commentaires}`;
  const url=`https://wa.me/2250757841323?text=${encodeURIComponent(message)}`;
  window.open(url,'_blank');
}

// Envoi Email
function envoyerEmail(){
  const nom=document.getElementById("nom").value;
  const email=document.getElementById("email").value;
  const tel=document.getElementById("tel").value;
  const objet=document.getElementById("objet").value;
  const dimensions=document.getElementById("dimensions").value;
  const endroit=document.getElementById("endroit").value;
  const materiau=document.getElementById("materiau").value;
  const commentaires=document.getElementById("commentaires").value;
  const couleurs=[...document.querySelectorAll(".color-box.selected")].map(c=>c.style.background).join(", ");
  if(!nom||!email||!objet){alert("Veuillez remplir tous les champs obligatoires.");return;}
  const subject=`Demande de devis ‚Äî ${nom}`;
  const body=`Nom : ${nom}\nEmail : ${email}\nT√©l√©phone : ${tel}\nObjet : ${objet}\nDimensions : ${dimensions}\nEndroit : ${endroit}\nMat√©riau : ${materiau}\nCouleurs : ${couleurs}\nCommentaires : ${commentaires}`;
  const mailto=`mailto:r3dprint.ci@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  window.location.href=mailto;
}
</script>
</body>
</html>
